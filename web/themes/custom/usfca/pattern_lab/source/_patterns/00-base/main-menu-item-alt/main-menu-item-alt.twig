{% set instanceId = instanceId | default(1) %}

<li class="menu-item{% if item.activeTrail %} menu-item--active-trail{% endif %}{% if item.submenu %} menu-item-submenu{% endif %}">

  {% if item.submenu|length %}

    <div class="link-arrow-wrapper">
      <a href="{{ item.href }}">
        {{ item.title }}
      </a>

      <button type="button" class="has-submenu arrow-toggle" aria-expanded="false" aria-haspopup="true" aria-label="Display Sub Menu for {{ item.title }}">
        <svg enable-background="new 0 0 35 35" viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m19.8 17.5-5.6-5.6c-.4-.4-.4-.9 0-1.3s.9-.4 1.3 0l6.2 6.2c.4.4.4 1 0 1.4l-6.2 6.2c-.4.4-.9.4-1.3 0s-.4-.9 0-1.3z" fill="#671f75" fill-rule="evenodd"/></svg>
      </button>
    </div>

  {% else %}

    <a href="{{ item.href }}" class="not-external">
      {{ item.title }}
    </a>

  {% endif %}

  {% if item.submenu %}
    <div class="submenus-wrapper">
      <button class="button-back">
        <svg height="15" viewBox="0 0 9 15" width="9" xmlns="http://www.w3.org/2000/svg"><path d="m16.5 19.2142857 5.5714286-5.5714286c.3550402-.3550402.9306741-.3550402 1.2857143 0s.3550402.9306741 0 1.2857143l-6.1500361 6.1500361c-.3905243.3905243-1.0236893.3905243-1.4142136 0l-6.15003606-6.1500361c-.35504019-.3550402-.35504019-.9306741 0-1.2857143.3550402-.3550402.93067406-.3550402 1.28571426 0z" fill-rule="evenodd" transform="matrix(0 1 -1 0 21.892857 -9.107143)"/></svg>
        {{ item.title }}
      </button>
    {% if item.submenu|length %}
      <div class="submenus-wrapper-inner">
        <ul class="submenu" aria-hidden="true">

          {% for subitem in item.submenu %}

            {% include "base-main-menu-item" with { item: subitem } %}

          {% endfor %}

        </ul>
      </div>
    {% endif %}
    </div>
  {% endif %}

</li>
